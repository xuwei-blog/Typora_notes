# 批处理

## 概述

[TOC]

> notes:
>
> 1. windows环境下，不区分大小写
> 1. 斜杠是 右斜杠 /

## 语法

### 算数运算 set

```cmd
set /a 3+1
```

### 短路与 &&

如果前者ipconfigaa不执行，后者也不会执行

```CMD
ipconfigaaa && netstat -an
```

### 短路或 ||

如果前者执行，后者不会执行(瞎写都没事)

```CMD
ipconfig || 666
```

### 管道 |

```cmd
dir | find"*.txt"
```

```cmd
netshat -an | find "ESTABLISHED"
```

### 注释 rem

```cmd
rem 被注释掉的内容
```

```cmd
@echo off
rem 输出123
echo 123
pause
```



## 常用指令

### 帮助信息 ？ help

```cmd
dir /？
```

```CMD
net user /help
```

### 参数传递

添加用户，并设置密码

```cmd
@ehco off
echo %1
echo %2

net user %1 %2 /add
```

### 设置颜色 color

先查看帮助，再依次选择背景色 前景色

```cmd
color /?
```

```cmd
color 0A
```

### 设置CMD标题 title

```cmd
title “我是标题”
```

### 查看日期时间 date time

```cmd
date /？
time /？
```

### 查看内容 type

```cmd
type 1.bat
```

### 启动文件 start

先查看帮助文档/？

```cmd
start "file_name"
```

### 调用其他bat call

```cmd
call 1.bat
```

### 查看进程 tasklist

先查看帮助文档

```cmd
tasklist
```

使用筛选器

```cmd
tasklit /FI “STATUS eq RUNNING”
```



### 查看其他设备

```cmd
tasklist /s 192.168.10.2 /u user /p 123abc
```

### 杀死进程 taskkill

使用前查看帮助文档，可以通过pid和image来操作

```cmd
taskkill /pid 12345
```

### 远程杀死进程 taskkill

```cmd
taskkill  /s 192.168.2.123 /u user /p 123abc /fi "PID eq 12345" /f
```

### 查看系统变量 set

```cmd
set
```

### 进程预约 schtasks

```cmd
schtasks
```

### 查看目录 dir

```cmd
dir /a
```

### 创建目录 mkdir

```cmd
mkdir test
```

### 删除目录 rmdir

```cmd
rmdir test
```

### 切换目录 cd

切换到上一级目录

```cmd
cd ..
```



